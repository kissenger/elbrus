

<div class="p-0 h-100  d-flex flex-column">


  <!-- PUBLIC/PRIVATE DROPDOWN -->
  <form>

    <div class="form-group m-0 p-0">
      <select [(ngModel)]="isPublicOrPrivate" [ngModelOptions]="{standalone: true}"
        (change)="onSelectMenuChange()" class="custom-select custom-select-sm my-1">
        <option *ngIf="!isRegisteredUser" disabled value=false>My routes</option>
        <option *ngIf="isRegisteredUser" value=false>My routes</option>
        <option value=true>Public routes</option>
      </select>
    </div>

  </form>


  <!-- EMPTY ROUTE LIST -->
  <div *ngIf="nRoutesInView === 0" class="w-100 text-center flex-grow-1">

    <div class="text-center m-3">
      No routes found.
    </div>

    <div *ngIf="!isPublicOrPrivate" class="small mt-3 text-center mt-auto">
      Use the 'Options' tab to load or create a route, or use the dropdown above to view shared routes.
    </div>

    <div *ngIf="isPublicOrPrivate" class="small mt-3 text-center mt-auto">
      Only routes in the current map view are listed.  Try moving the map to find routes.
    </div>

  </div>


  <!-- ROUTE LIST -->

  <div *ngIf="nRoutesInView > 0" class="m-1  p-0 h-100 overflow-auto">

    <div class="m-0 p-0 d-flex flex-column active-route-holder">
      <i>Active Route:</i>
      <app-panel-list-item *ngIf="nSelectedRoutes > 0" [item]="listItems[0]" class="my-auto list-item"
        (click)="onListClick(listItems[0].pathId)" [ngStyle]="getCssStyle(listItems[0].pathId, 0)">
      </app-panel-list-item>

      <div *ngIf="nSelectedRoutes === 0" class="w-100 text-center my-auto">No route selected.</div>
    </div>



    <div *ngIf="nSelectedRoutes === 0" class="m-1 p-0"><i>Select a route to view:</i></div>
    <div *ngIf="nSelectedRoutes > 0 && nRoutesInView <= 1" class="m-1 p-0"><i>No more routes to show.</i></div>
    <div *ngIf="nSelectedRoutes > 0 && nRoutesInView > 1" class="m-1 p-0"><i>Select routes to overlay:</i></div>

      <div *ngFor="let item of listItems; let i = index"  >

        <div *ngIf="nSelectedRoutes === 0 || i > 0" (click)="onListClick(item.pathId)" class="list-item" [ngStyle]="getCssStyle(item.pathId, i)">
          <app-panel-list-item  [item]="item" class="m-0 p-0 "></app-panel-list-item>
        </div>


      </div>
    </div>

    <!-- Loop through available data and create a list box item for each-->
    <!-- <div *ngFor="let item of listItems; let i = index"  (click)="onListClick(item.pathId)"
      [ngClass]="getCssClass(item.pathId, i)" [ngStyle]="getCssStyle(item.pathId, i)">
      <app-panel-list-item [item]="item"></app-panel-list-item>
    </div> -->



  <!-- MORE -->
  <div *ngIf="nRoutesInView > 0" class="text-center small">
    showing {{nLoadedRoutes}} of {{nRoutesInView}} routes <br>
    <span *ngIf="!nRoutesInView" class="global-make-text-look-like-link" (click)="onMoreClick()"> Load more </span> <br>
  </div>

</div>
